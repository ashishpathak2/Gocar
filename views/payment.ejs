<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment</title>
</head>

<body>

    <%- include("navbar.ejs",{page:"hidelocation" }) -%>

    <div class="container">
        <% if (paymentStatus === "true") { %>
            <div class="row mt-5">
                <!-- Left side: Takes 6 columns on medium screens, full width on small screens -->
                <div class="col-sm-12 col-md-6 d-flex justify-content-center justify-content-md-end mb-4 mb-md-0">
                    <div class="card rounded-4 shadow overflow-hidden" style="width: 80%;">
                        <img src="<% if (carDetail.carImage) { %>data:image/jpeg;base64,<%= carDetail.carImage.toString('base64') %><% } %>"
                            class="card-img-top img-fluid" alt="Car Image">
                        <div class="card-body">
                            <h5 class="card-title">
                                <%= carDetail.carCompany %> <%= carDetail.carName %>
                            </h5>
                            <h4 class="card-price">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-currency-rupee" viewBox="0 0 16 16">
                                    <path
                                        d="M4 3.06h2.726c1.22 0 2.12.575 2.325 1.724H4v1.051h5.051C8.855 7.001 8 7.558 6.788 7.558H4v1.317L8.437 14h2.11L6.095 8.884h.855c2.316-.018 3.465-1.476 3.688-3.049H12V4.784h-1.345c-.08-.778-.357-1.335-.793-1.732H12V2H4z" />
                                </svg>
                                <%= formatPrice(carDetail.carPrice) %>
                            </h4>
                        </div>
                    </div>
                </div>
    
                <!-- Right side: Takes 6 columns on medium screens, full width on small screens -->
                <div class="col-sm-12 col-md-6">
                    <div class="row">
                        <div class="col-12">
                            <div class="d-flex gap-2 align-items-center justify-content-center justify-content-md-start">
                                <h2 class="m-0">Booking Confirmed</h2>
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor"
                                    class="bi bi-check-circle-fill text-success" viewBox="0 0 17 17">
                                    <path
                                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
                                </svg>
                            </div>
                            <div class="mt-3 d-flex flex-column gap-5">
                                <div class="d-flex flex-column gap-2">
                                    <h6 class="m-0">Booking Details:</h6>
                                    <p class="custonFs m-0">Booking Id: <strong><%= bookingInfo.bookingId %></strong></p>
                                    <p class="custonFs m-0">Address: <strong><%= bookingInfo.address %></strong></p>
                                    <p class="custonFs m-0">Date: <strong><%= bookingInfo.date %></strong></p>
                                    <p class="custonFs m-0">Time-Slot: <strong><%= bookingInfo.time %></strong></p>
                                </div>
    
                                <div class="d-flex flex-column gap-2">
                                    <div class="d-flex gap-2 align-items-center justify-content-center justify-content-md-start">
                                        <h2 class="m-0">Payment Successful!</h2>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor"
                                            class="bi bi-check-circle-fill text-success" viewBox="0 0 17 17">
                                            <path
                                                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
                                        </svg>
                                    </div>
                                    <h6 class="m-0">Payment Details:</h6>
                                    <p class="custonFs m-0">Payment Id: <strong><%= bookingInfo.paymentId %></strong></p>
                                    <p class="custonFs m-0">Order Id: <strong><%= bookingInfo.orderId %></strong></p>
                                    <p class="custonFs m-0">Amount: <strong>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor"
                                            class="bi bi-currency-rupee" viewBox="0 0 16 16">
                                            <path
                                                d="M4 3.06h2.726c1.22 0 2.12.575 2.325 1.724H4v1.051h5.051C8.855 7.001 8 7.558 6.788 7.558H4v1.317L8.437 14h2.11L6.095 8.884h.855c2.316-.018 3.465-1.476 3.688-3.049H12V4.784h-1.345c-.08-.778-.357-1.335-.793-1.732H12V2H4z" />
                                        </svg> 499</strong>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- Buttons Section -->
            <div class="mt-5 d-flex flex-column flex-md-row gap-4 justify-content-center">
                <a href="/" class="btn btn-dark">Return to Homepage</a>
                <a href="users/mybookings" class="btn btn-warning">View My Bookings</a>
            </div>
            <p class="text-center mt-4 h6">* Our representative will contact you within 24 hours.</p>
    
        <% } else { %>
            <div class="mt-4 d-flex flex-column gap-2 align-items-center">
                <div class="d-flex gap-2 align-items-center">
                    <h2 class="m-0">Payment Unsuccessful</h2>
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor"
                        class="bi bi-x-circle-fill text-danger" viewBox="0 0 17 17">
                        <path
                            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z" />
                    </svg>
                </div>
                <p class="h6">Please retry again.</p>
                <div class="mt-5 d-flex gap-2 justify-content-center">
                    <a href="/" class="btn btn-dark">Return to Homepage</a>
                </div>
            </div>
        <% } %>
    </div>
    















    <%- include("footer.ejs") -%>








        <% function formatPrice(price) { let lakhPrice=price / 100000; return `${lakhPrice.toFixed(2)} Lakh`; } %>
</body>

</html>